## ***\*Reverse入门\****



### ***\*介绍*\***

##### CTF竞赛中的逆向：

涉及 Windows、Linux、Android 平台的多种编程技术，要求利用常用工具对源代码及二进制文件进行逆向分析，掌握 Android 移动应用 APK 文件的逆向分析，掌握加解密、内核编程、算法、反调试和代码混淆技术。 ------ 《全国大学生信息安全竞赛参赛指南》

 (主要指对已编译的二进制程序进行分析和理解的过程。)

CTF竞赛中，reverse的题目囊括广泛，一切可执行代码均可以用于进行隐藏flag并要求进行逆向。

##### 程序形式：

常见的有

a.Win32程序，包括32位、64位应用程序，特征为PE格式
b.Linux程序，特征为ELF文件
c. Android程序，特征为Apk安装包
d. 工程da代码源文件，例如.c文件、.py文件、.class文件。
e. 可执行代码片段，包括已编译但是无法正确运行的代码片段、未编译或中途编译文件等

上面列出的“程序”并不一定可以执行，某些情况下因为系统差异、运行时库缺失、架构不符等原因，这些可执行程序并不一定能够执行。



### ***\*基础\****

#### 语言要求:

(起码要会c语言)

对于逆向工程，由于编译后的应用程序多由字节码写成，因此从字节码回编译到可读文本时不能完全恢复工程源代码文件，因此需要掌握多门技术语言。

##### a. 汇编语言

并不需要完全学习所有汇编指令和所有汇编语言,从一种汇编语言风格可以很方便的类推另一种风格，只需要注意其[区别](https://zh.wikipedia.org/wiki/汇编语言)

##### b. C语言

作为一种高效的一种高级语言，C语言是大多数底层API实现的基本语言。另外，在IDA中反汇编生成的pseudocode也是C语言风格

##### c. Python

Python是一种方便的、易于学习的高级语言，在解密、爆破中经常使用Python进行脚本编程。由于大部分问题的答案求解并不复杂，因此对代码执行的效率要求并不高，使用Python作为求解器是可能的
另一方面，Python丰富的包为大多数求解器的开发提供了大量的便利。

#### 简单加密算法:

加密是逆向工程对抗的核心，务必熟记加密算法原理和特征，这样在面对混淆和魔改加密时才能游刃有余。

- TEA 系列加密: TEA、XTEA、XXTEA
- RC4 加密
- AES/DES 加密
- Base64 编码

这里推荐一篇文章[CTF常见编码及加解密（超全） - ruoli-s - 博客园](https://www.cnblogs.com/ruoli-s/p/14206145.html)

常见加密不是一成不变的模板，需要读懂加密过程和大致原理。

#### 脚本代码编写：

需要熟悉 C 语言和 Python，平时的解题脚本可以收集好，并找时间整理。



### ***\*主要工具介绍\****

#### 静态调试：IDA

IDA是yyds，可以将程序反编译成伪代码，在调试分析的时候很方便。

一般使用IDA的基本流程就是，将待分析文件拖入IDA32或IDA64中，按f5进行反编译后分析伪代码。

#### PE文件分析工具

我比较喜欢用die，使用方法是，拖入待分析文件就好，可以查看文件位数或是否有壳。



### ***\*进阶\****

#### 代码混淆

这里不做细讲：提一点知道有这个知识点就好。

代码混淆常见的是花指令和SMC，花指令就是在代码中插入一些垃圾数据，或是构造一些跳转语句来干扰静态调试。SMC是自修改代码，通过修改内存地址，使程序无法静态分析，但是在程序运行时会进行自解密，也就是我们调试的方法就是通过动态调试 调试到修改后的代码处，然后再dump出来就好。

除了花指令和SMC 还有ollvm。

#### 脱壳

初学时遇到的upx壳一般都比较简单，可以通过upx工具直接脱壳。



### ***\*刷题平台：\****

buuctf (我做的题也比较少，基本上都是在这上面做的)

Nssctf

攻防世界

 

还有吾爱破解和看雪论坛可以多看看，里面有很多干货以及实用的工具。

 